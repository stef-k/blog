var setupIsActiveMenuClass=function(){var e=window.location.pathname,t=document.querySelectorAll(".nav-right > .nav-item");t.forEach(function(t){e===t.getAttribute("href")&&(t.className+=" is-active")})},setupMenuToggle=function(){document.querySelector(".nav-toggle").addEventListener("click",function(){var e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-menu");e.classList.toggle("is-active"),t.classList.toggle("is-active")})},setupExternalLinks=function(){for(var e=document.getElementsByTagName("a"),t=0;e<e.length;t++){var n=e[t];n.getAttribute("href")&&n.hostname!==location.hostname&&(n.target="_blank")}},setupHighlight=function(){var e=document.querySelectorAll("pre code");e.forEach(function(e){hljs.highlightBlock(e)})},setupNotifications=function(){document.querySelectorAll(".notification").forEach(function(e){e.addEventListener("click",function(e){e.target.parentNode.parentNode.removeChild(e.target.parentNode)})})},socialPopup=function(e,t,n){var o=screen.width/2-t/2,i=screen.height/2-n/2;window.open(e,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+t+",height="+n+",top="+i+",left="+o)},setupSocialShare=function(){var e=document.querySelectorAll(".social-share");e.length>0&&e.forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.dataset.width||500,o=e.dataset.height||300;e.href.includes("https://www.reddit.com/submit/?url=")?(e.href+="&title="+document.title,socialPopup(e.href,850,o)):socialPopup(e.href,n,o)})})},setupEnlargeImage=function(){var e=document.querySelector(".magnify");if(null!==e){var t=document.querySelector(".entry"),n=document.querySelector(".container");null!==t&&(t=t.querySelectorAll("img:not(.noseen)"),t.forEach(function(t){var o=t.cloneNode(),i=document.createElement("span"),c=document.createTextNode("click on image to zoom in");i.classList.add("light-notice","font-normal"),i.appendChild(c),t.parentNode.appendChild(i),t.addEventListener("click",function(t){window.myapp=window.myapp||{},window.myapp.srollPos=document.documentElement.scrollTop||document.body.scrollTop,n.classList.add("is-hidden"),e.appendChild(o),e.appendChild(i),e.classList.toggle("is-hidden")}),e.addEventListener("click",function(t){e.contains(o)&&(n.classList.remove("is-hidden"),e.classList.toggle("is-hidden"),document.documentElement.scrollTop=window.myapp.srollPos,document.body.scrollTop=window.myapp.srollPos,e.removeChild(o))})}))}},zoomOutImage=function(){document.onkeydown=function(e){if(27===e.keyCode){var t=document.querySelector(".magnify"),n=document.querySelector(".container");if(!t.classList.contains("is-hidden"))for(n.classList.remove("is-hidden"),t.classList.toggle("is-hidden"),document.documentElement.scrollTop=window.myapp.srollPos,document.body.scrollTop=window.myapp.srollPos;t.firstChild;)t.removeChild(t.firstChild)}}},callback=function(){setupIsActiveMenuClass(),setupMenuToggle(),setupExternalLinks(),setupNotifications(),setupHighlight(),setupSocialShare(),setupEnlargeImage(),zoomOutImage()};!function(){"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?callback():document.addEventListener("DOMContentLoaded",callback)}(),function(){void 0!==window.myapp.trackingId&&""!==window.myapp.trackingId&&(!function(e,t,n,o,i,c,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,c=t.createElement(n),a=t.getElementsByTagName(n)[0],c.async=1,c.src=o,a.parentNode.insertBefore(c,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create",window.myapp.trackingId,"auto"),ga("send","pageview"))}();